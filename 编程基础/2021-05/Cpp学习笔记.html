<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/Whale-180x180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/Whale-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/Whale-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="-3vYeYUI32tNnZYynn6m9TEd8b35o91ejIEgj9md_1o">
  <meta name="msvalidate.01" content="52EA62B6D6E7019FD9854082F76A21EA">
  <meta name="baidu-site-verification" content="code-AlOkWF1yk4">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-material.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"meteordream.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":250,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="前言  小鲸鱼有C语言的编程基础，所以C++与C相似的部分就简单带过啦~ 欢迎进入Cpp的世界 123456789101112&#x2F;* Code language: C++ *&#x2F;#include &lt;iostream&gt;    &#x2F;&#x2F;cout,cinint main() &amp;#123;    std::cout &lt;&lt; &quot;Hello!&quot; &lt;&lt; std::e">
<meta property="og:type" content="article">
<meta property="og:title" content="C++学习笔记">
<meta property="og:url" content="https://meteordream.github.io/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/2021-05/Cpp%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html">
<meta property="og:site_name" content="小鲸鱼的梦境">
<meta property="og:description" content="前言  小鲸鱼有C语言的编程基础，所以C++与C相似的部分就简单带过啦~ 欢迎进入Cpp的世界 123456789101112&#x2F;* Code language: C++ *&#x2F;#include &lt;iostream&gt;    &#x2F;&#x2F;cout,cinint main() &amp;#123;    std::cout &lt;&lt; &quot;Hello!&quot; &lt;&lt; std::e">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-05-03T02:58:26.000Z">
<meta property="article:modified_time" content="2021-05-06T06:49:23.000Z">
<meta property="article:author" content="小鲸鱼">
<meta property="article:tag" content="C++">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://meteordream.github.io/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/2021-05/Cpp%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>C++学习笔记 | 小鲸鱼的梦境</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">小鲸鱼的梦境</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://meteordream.github.io/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/2021-05/Cpp%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/shizuku.png">
      <meta itemprop="name" content="小鲸鱼">
      <meta itemprop="description" content="小鲸鱼只有七秒钟的记忆">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小鲸鱼的梦境">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C++学习笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-03 10:58:26" itemprop="dateCreated datePublished" datetime="2021-05-03T10:58:26+08:00">2021-05-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-06 14:49:23" itemprop="dateModified" datetime="2021-05-06T14:49:23+08:00">2021-05-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">编程基础</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/2021-05/Cpp%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/2021-05/Cpp%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>35k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>32 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="前言">前言</h2>
<!-- 参考资料: 《C++ Primer》 -->
<p>小鲸鱼有C语言的编程基础，所以C++与C相似的部分就简单带过啦~</p>
<h3 id="欢迎进入cpp的世界">欢迎进入Cpp的世界</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span>    <span class="comment">//cout,cin</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Welcome to c++!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* Hello!</span></span><br><span class="line"><span class="comment">* Welcome to c++!</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<span id="more"></span>
<hr>
<h2 id="目录">目录</h2>
<ul>
<li><a href="#前言">前言</a>
<ul>
<li><a href="#欢迎进入Cpp的世界">欢迎进入Cpp的世界</a></li>
</ul></li>
<li><a href="#目录">目录</a></li>
<li><a href="#基础知识">基础知识</a>
<ul>
<li><a href="#基础数据类型">基础数据类型</a>
<ul>
<li><a href="#四种基础数据类型">四种基础数据类型</a></li>
<li><a href="#常量">常量</a></li>
</ul></li>
<li><a href="#运算">运算</a></li>
<li><a href="#输入输出流">输入输出流</a></li>
<li><a href="#逻辑语句">逻辑语句</a>
<ul>
<li><a href="#条件语句">条件语句</a>
<ul>
<li><a href="#if语句">if语句</a></li>
<li><a href="#switch语句">switch语句</a></li>
</ul></li>
<li><a href="#循环语句">循环语句</a>
<ul>
<li><a href="#while语句">while语句</a></li>
<li><a href="#for语句">for语句</a></li>
<li><a href="#控制语句">控制语句</a></li>
</ul></li>
</ul></li>
<li><a href="#自定义类型">自定义类型</a>
<ul>
<li><a href="#typedef">typedef</a></li>
<li><a href="#枚举类型">枚举类型</a>
<ul>
<li><a href="#不限定作用域的枚举类型">不限定作用域的枚举类型</a></li>
<li><a href="#限定作用域的枚举类型">限定作用域的枚举类型</a></li>
</ul></li>
<li><a href="#自动类型">自动类型</a></li>
</ul></li>
</ul></li>
<li><a href="#函数">函数</a>
<ul>
<li><a href="#函数定义">函数定义</a></li>
<li><a href="#参数传递">参数传递</a>
<ul>
<li><a href="#带默认值的参数">带默认值的参数</a></li>
</ul></li>
<li><a href="#函数重载">函数重载</a></li>
<li><a href="#内联函数">内联函数</a></li>
</ul></li>
<li><a href="#类与对象">类与对象</a>
<ul>
<li><a href="#类与对象的定义">类与对象的定义</a>
<ul>
<li><a href="#类与对象定义示例">类与对象定义示例</a></li>
</ul></li>
<li><a href="#构造函数">构造函数</a>
<ul>
<li><a href="#构造函数示例">构造函数示例</a></li>
</ul></li>
<li><a href="#析构函数">析构函数</a></li>
<li><a href="#类的组合">类的组合</a>
<ul>
<li><a href="#前向引用声明">前向引用声明</a></li>
<li><a href="#静态成员">静态成员</a></li>
<li><a href="#类的友元">类的友元</a></li>
<li><a href="#类的组合综合示例">类的组合综合示例</a></li>
</ul></li>
<li><a href="#结构体">结构体</a></li>
<li><a href="#联合体">联合体</a></li>
<li><a href="#数据共享和保护">数据共享和保护</a>
<ul>
<li><a href="#标识符作用域">标识符作用域</a></li>
<li><a href="#对象的生存期">对象的生存期</a></li>
<li><a href="#共享数据的保护">共享数据的保护</a></li>
</ul></li>
</ul></li>
<li><a href="#数组、指针、字符串">数组、指针、字符串</a>
<ul>
<li><a href="#数组">数组</a></li>
<li><a href="#指针">指针</a></li>
<li><a href="#动态内存分配">动态内存分配</a></li>
</ul></li>
<li><a href="#继承和派生">继承和派生</a>
<ul>
<li><a href="#什么是继承与派生">什么是继承与派生</a></li>
<li><a href="#继承方式">继承方式</a>
<ul>
<li><a href="#公有继承public">公有继承public</a></li>
<li><a href="#私有继承private">私有继承private</a></li>
<li><a href="#保护继承protected">保护继承protected</a></li>
<li><a href="#类的继承示例">类的继承示例</a></li>
</ul></li>
<li><a href="#类型转换">类型转换</a></li>
<li><a href="#派生类的构造函数与析构函数">派生类的构造函数与析构函数</a></li>
<li><a href="#派生类成员的访问与构成">派生类成员的访问与构成</a>
<ul>
<li><a href="#虚基类">虚基类</a></li>
</ul></li>
<li><a href="#类的继承综合示例">类的继承综合示例</a></li>
</ul></li>
<li><a href="#多态">多态</a>
<ul>
<li><a href="#运算符重载">运算符重载</a>
<ul>
<li><a href="#运算符重载为成员函数">运算符重载为成员函数</a></li>
<li><a href="#运算符重载为非成员函数">运算符重载为非成员函数</a></li>
<li><a href="#运算符重载示例">运算符重载示例</a></li>
</ul></li>
<li><a href="#虚函数">虚函数</a>
<ul>
<li><a href="#虚表">虚表</a></li>
</ul></li>
<li><a href="#抽象类">抽象类</a>
<ul>
<li><a href="#override和final">override和final</a></li>
</ul></li>
</ul></li>
<li><a href="#模板">模板</a>
<ul>
<li><a href="#函数模板">函数模板</a></li>
<li><a href="#类模板">类模板</a></li>
</ul></li>
<li><a href="#异常处理">异常处理</a>
<ul>
<li><a href="#函数的异常声明">函数的异常声明</a></li>
</ul></li>
<li><a href="#泛型">泛型</a></li>
</ul>
<hr>
<h2 id="基础知识">基础知识</h2>
<p>基本数据类型: 整数、实数、字符、布尔数据<br>
基本运算: 算术运算、关系运算、逻辑运算、位运算、逗号运算、条件运算</p>
<p>字符集:
<code>A～Z, a～z, 0～9, ! # % ^ &amp; * _ + = - ~ &lt; &gt; / \ ' " ; . , : ? ( ) [ ] &#123; &#125; |</code><br>
词法记号: 关键字、标识符、文字、分隔符、运算符、空白符(包括注释)</p>
<p>标识符构成规则:</p>
<ul>
<li>以大写字母、小写字母或下划线_开始</li>
<li>可以由以大写字母、小写字母、下划线_或数字0～9组成</li>
<li>区分大小写</li>
<li>不能是C++关键字或操作符</li>
</ul>
<h3 id="基础数据类型">基础数据类型</h3>
<h4 id="四种基础数据类型">四种基础数据类型</h4>
<p>整数类型: int, 符号(signed, unsigned), 范围(short, long, long
long)<br>
字符类型: char, 本质也是整型<br>
浮点数: float(单精度), double(双精度), long double(扩展精度)<br>
布尔类型: bool -&gt; 值为true or false -&gt; 非0整数转布尔都是true</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* 整型 */</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;sizeof(int)=&quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">int</span>) &lt;&lt; <span class="string">&quot;, sizeof(short)=&quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">short</span>) &lt;&lt; <span class="string">&quot;, sizeof(long)=&quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">long</span>) &lt;&lt; endl;</span><br><span class="line">    <span class="comment">/* 浮点型 */</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;sizeof(float)=&quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">float</span>) &lt;&lt; <span class="string">&quot;, sizeof(double)=&quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">double</span>) &lt;&lt; <span class="string">&quot;, sizeof(long double)=&quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">long</span> <span class="type">double</span>) &lt;&lt; endl;</span><br><span class="line">    <span class="comment">/* 字符型、布尔型 */</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;sizeof(char)=&quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">char</span>) &lt;&lt; <span class="string">&quot;, sizeof(bool)=&quot;</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">bool</span>) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* sizeof(int)=4, sizeof(short)=2, sizeof(long)=4</span></span><br><span class="line"><span class="comment">* sizeof(float)=4, sizeof(double)=8, sizeof(long double)=8</span></span><br><span class="line"><span class="comment">* sizeof(char)=1, sizeof(bool)=1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="常量">常量</h4>
<p>常量是在程序运行的整个过程中其值始终不可改变的量</p>
<p>整型:</p>
<ul>
<li>十进制: 除数字0以外不能以0开头</li>
<li>二进制: 前缀0b, 数字范围0, 1</li>
<li>八进制: 前缀0, 数字范围0-7</li>
<li>十六进制: 前缀0x, 数字范围0-9-ABCDEF(不区分大小写)</li>
<li>后缀L/l的为long, 后缀U/u的为unsigned</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> x, y, z, u;</span><br><span class="line">    x = <span class="number">3</span>, y = <span class="number">027</span>, z = <span class="number">0xFF</span>, u = <span class="number">0b11011010</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;x, y, z, u = &quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; z &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; u &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output(整型默认输出格式为十进制)</span></span><br><span class="line"><span class="comment">* x, y, z, u = 3, 23, 255, 218</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>浮点数:</p>
<ul>
<li>一般形式: 12.0, 1.5</li>
<li>指数形式: 3.14159e10, -1E3, e9, 1.758962E</li>
<li>浮点型常量默认是double</li>
</ul>
<p>字符常量: 单引号内的一个字符'a'<br>
转义字符:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">转义字符</th>
<th style="text-align: center;">ASCII码(十六进制)</th>
<th style="text-align: center;">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\a\)</span></td>
<td style="text-align: center;">07</td>
<td style="text-align: center;">响铃</td>
</tr>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\n\)</span></td>
<td style="text-align: center;">0A</td>
<td style="text-align: center;">换行</td>
</tr>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\t\)</span></td>
<td style="text-align: center;">09</td>
<td style="text-align: center;">水平制表符</td>
</tr>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\v\)</span></td>
<td style="text-align: center;">0B</td>
<td style="text-align: center;">垂直制表符</td>
</tr>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\b\)</span></td>
<td style="text-align: center;">08</td>
<td style="text-align: center;">退格</td>
</tr>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\r\)</span></td>
<td style="text-align: center;">0D</td>
<td style="text-align: center;">回车</td>
</tr>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\f\)</span></td>
<td style="text-align: center;">0C</td>
<td style="text-align: center;">换页</td>
</tr>
<tr>
<td style="text-align: center;">'\ \'</td>
<td style="text-align: center;">5C</td>
<td style="text-align: center;">斜杠</td>
</tr>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\&quot;\)</span></td>
<td style="text-align: center;">22</td>
<td style="text-align: center;">双引号</td>
</tr>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\&#39;\)</span></td>
<td style="text-align: center;">27</td>
<td style="text-align: center;">单引号</td>
</tr>
<tr>
<td style="text-align: center;"><span class="math inline">\(\\?\)</span></td>
<td style="text-align: center;">3F</td>
<td style="text-align: center;">问号</td>
</tr>
</tbody>
</table>
<p>符号常量</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">double</span> PI = <span class="number">3.1415926</span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="type">const</span> <span class="title">N</span><span class="params">(<span class="number">314159</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;PI = &quot;</span> &lt;&lt; PI &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;N = &quot;</span> &lt;&lt; N &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* PI = 3.14159</span></span><br><span class="line"><span class="comment">* N = 314159</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>定义:</p>
<ul>
<li>const 数据类型说明符 常量名 = 常量值;</li>
<li>数据类型说明符 const 常量名 = 常量值;</li>
<li>符号常量在定义时一定要初始化，在程序中间不能改变其值</li>
</ul>
<p>constexpr</p>
<p>严格意义上来说const的含义是"只读", 而constexpr的含义才是"常量",
即编译期间即可求得值的</p>
<h3 id="运算">运算</h3>
<p>算数运算:
<code>+ - * / % ++ -- += -= *= /= %= &lt;&lt;= &gt;&gt;= ^= |=</code><br>
赋值运算: <code>=</code><br>
逗号运算<br>
关系运算: <code>&gt; &lt; &gt;= &lt;= == !=</code>, 结果为bool<br>
逻辑运算: <code>&amp;&amp;(与) ||(或) !(非)</code>, 结果为bool<br>
条件运算: <code>表达式1 ? 表达式2 : 表达式3</code></p>
<p>按位与(&amp;): 将某位置置零或取指定位<br>
按位或(|): 将某位置置1<br>
按位异或(^): 将某位置翻转(与1异或)<br>
按位取反(~)</p>
<p>左移(&lt;&lt;): 低位补0, 高位舍弃<br>
右移(&gt;&gt;): 低位舍弃，高位补符号位</p>
<h3 id="输入输出流">输入输出流</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">操纵符名</th>
<th style="text-align: center;">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">dec</td>
<td style="text-align: center;">数值数据采用十进制表示</td>
</tr>
<tr>
<td style="text-align: center;">hex</td>
<td style="text-align: center;">数值数据采用十六进制表示</td>
</tr>
<tr>
<td style="text-align: center;">oct</td>
<td style="text-align: center;">数值数据采用八进制表示</td>
</tr>
<tr>
<td style="text-align: center;">ws</td>
<td style="text-align: center;">提取空白符</td>
</tr>
<tr>
<td style="text-align: center;">endl</td>
<td style="text-align: center;">插入换行符，并刷新流</td>
</tr>
<tr>
<td style="text-align: center;">ends</td>
<td style="text-align: center;">插入空字符</td>
</tr>
<tr>
<td style="text-align: center;">setsprecision(int)</td>
<td style="text-align: center;">设置浮点数的小数位数（包括小数点）</td>
</tr>
<tr>
<td style="text-align: center;">setw(int)</td>
<td style="text-align: center;">设置域宽</td>
</tr>
</tbody>
</table>
<h3 id="逻辑语句">逻辑语句</h3>
<h4 id="条件语句">条件语句</h4>
<h5 id="if语句">if语句</h5>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    cin &gt;&gt; x;</span><br><span class="line">    cin &gt;&gt; y;</span><br><span class="line">    <span class="keyword">if</span> (x &gt; y)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;x &gt; y&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; y)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;x &lt; y&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;x == y&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* 20210424</span></span><br><span class="line"><span class="comment">* 19000101</span></span><br><span class="line"><span class="comment">* x &gt; y</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h5 id="switch语句">switch语句</h5>
<p>很简单，看例子吧~switch是可以用if-else if-else语句代替的</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> day;</span><br><span class="line">    cin &gt;&gt; day;</span><br><span class="line">    <span class="keyword">switch</span> (day)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>: cout &lt;&lt; <span class="string">&quot;Sunday&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: cout &lt;&lt; <span class="string">&quot;Monday&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: cout &lt;&lt; <span class="string">&quot;Tuesday&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>: cout &lt;&lt; <span class="string">&quot;Wednesday&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>: cout &lt;&lt; <span class="string">&quot;Thursday&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>: cout &lt;&lt; <span class="string">&quot;Friday&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>: cout &lt;&lt; <span class="string">&quot;Saturday&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Day out of range Sunday .. Saturday&quot;</span> &lt;&lt; endl; <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* 6</span></span><br><span class="line"><span class="comment">* Saturday</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="循环语句">循环语句</h4>
<h5 id="while语句">while语句</h5>
<p>while语句</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">1</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;sum = &quot;</span>;</span><br><span class="line">    <span class="keyword">while</span> (sum &lt; <span class="number">314</span>) &#123;</span><br><span class="line">        sum += sum;</span><br><span class="line">        cout &lt;&lt; sum &lt;&lt; ends;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* sum = 2 4 8 16 32 64 128 256 512</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>do while语句</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">1023</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;sum = &quot;</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        sum &amp;= sum - <span class="number">1</span>;</span><br><span class="line">        cout &lt;&lt; sum &lt;&lt; ends;</span><br><span class="line">    &#125; <span class="keyword">while</span> (sum &gt; <span class="number">0</span>);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* sum = 1022 1020 1016 1008 992 960 896 768 512 0</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h5 id="for语句">for语句</h5>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;stdlib.h&gt;</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">srand</span>((<span class="type">unsigned</span> <span class="type">int</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="type">int</span> nums[] = &#123; <span class="built_in">rand</span>(), <span class="built_in">rand</span>(), <span class="built_in">rand</span>() , <span class="built_in">rand</span>() , <span class="built_in">rand</span>() , <span class="built_in">rand</span>() &#125;;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;nums = &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">        cout &lt;&lt; nums[i] &lt;&lt; ends;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* nums = 16298 3771 15596 32089 17283 24929</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>注:</p>
<ul>
<li><code>void srand(unsigned int seed); //设置随机数种子</code></li>
<li>建议随机数种子设为<code>(unsign int)time(NULL)</code> &lt;-
需要<code>#include &lt;time.h&gt;</code></li>
<li><code>int rand(void)</code>返回一个伪随机数，可通过取余控制范围</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">char</span> str[] = <span class="string">&quot;I-like-C++&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;string = &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> s : str)</span><br><span class="line">        cout &lt;&lt; s &lt;&lt; ends;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* string = I - l i k e - C + +</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h5 id="控制语句">控制语句</h5>
<p>指break, continue, goto</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> nums[] = &#123; <span class="number">1</span>, <span class="number">512</span>, <span class="number">1024</span> &#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">-3</span>; ;) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span>)<span class="keyword">goto</span> add;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;nums[&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;] = &quot;</span> &lt;&lt; nums[i++] &lt;&lt; endl;</span><br><span class="line">    add:</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span>) &#123; </span><br><span class="line">            i++;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;i = &quot;</span> &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (i &gt;= <span class="number">3</span>)<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* i = -2</span></span><br><span class="line"><span class="comment">* i = -1</span></span><br><span class="line"><span class="comment">* i = 0</span></span><br><span class="line"><span class="comment">* nums[1] = 1</span></span><br><span class="line"><span class="comment">* nums[2] = 512</span></span><br><span class="line"><span class="comment">* nums[3] = 1024</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="自定义类型">自定义类型</h3>
<h4 id="typedef">typedef</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> ElementType;</span><br><span class="line"><span class="keyword">using</span> Number = ElementType;</span><br></pre></td></tr></table></figure>
<h4 id="枚举类型">枚举类型</h4>
<h5 id="不限定作用域的枚举类型">不限定作用域的枚举类型</h5>
<p>底层实际上是整型，默认列表中的值为0,1,2……<br>
但允许自定义值，后续值顺延</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Weekday</span> &#123; SUN = <span class="number">7</span>, MON = <span class="number">1</span>, TUE, WED, THU, FRI, SAT &#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Weekday x = SUN, y = FRI;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;x, y = &quot;</span> &lt;&lt; x &lt;&lt; ends &lt;&lt; y &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* x, y = 7 5</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h5 id="限定作用域的枚举类型">限定作用域的枚举类型</h5>
<p>定义:
<code>enum class 枚举类型名 :底层类型名 &#123;枚举值列表&#125;;</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">enum class</span> <span class="title class_">HairColor</span> :<span class="type">char</span> &#123;Black = <span class="string">&#x27;b&#x27;</span>, White = <span class="string">&#x27;w&#x27;</span>, Gray = <span class="string">&#x27;g&#x27;</span>, Brown = <span class="string">&#x27;B&#x27;</span>&#125;;</span><br><span class="line">    HairColor myhair = HairColor::Black;</span><br><span class="line">    cout &lt;&lt; (<span class="type">char</span>)myhair &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* b</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="自动类型">自动类型</h4>
<p>auto: 根据初值自动推断类型(编译器完成类型判断) decltype:
根据变量决定类型</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 根据初值推断变量类型 (double)</span></span><br><span class="line">    <span class="keyword">auto</span> i = <span class="number">1.0</span>;</span><br><span class="line">    <span class="comment">// j与变量i类型相同但与i的初值无关 (double)</span></span><br><span class="line">    <span class="keyword">decltype</span>(i)j;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="函数">函数</h2>
<p>函数: 定义好的、可重用的功能模块</p>
<h3 id="函数定义">函数定义</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line">类型标识符 函数名(形式参数表)</span><br><span class="line">&#123;</span><br><span class="line">    函数体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在函数定义前调用函数需要先声明函数原型</li>
<li>函数原型: <code>类型标识符 函数名(形式参数表)</code></li>
<li>函数调用: <code>函数名(实际参数表)</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isPrime</span><span class="params">(<span class="type">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入一个正整数:&quot;</span>;</span><br><span class="line">    cin &gt;&gt; x;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isPrime</span>(x))</span><br><span class="line">        cout &lt;&lt; x &lt;&lt; <span class="string">&quot;是质数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; x &lt;&lt; <span class="string">&quot;不是质数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isPrime</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= <span class="built_in">sqrt</span>(n); i++) </span><br><span class="line">        <span class="keyword">if</span> (n % i == <span class="number">0</span>)<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* 请输入一个正整数:29</span></span><br><span class="line"><span class="comment">* 29是质数</span></span><br><span class="line"><span class="comment">* 请输入一个正整数:27</span></span><br><span class="line"><span class="comment">* 27不是质数</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>函数的嵌套、递归调用不再赘述。</p>
<h3 id="参数传递">参数传递</h3>
<ul>
<li>在函数被调用时才分配形参的存储单元</li>
<li>实参可以是常量、变量或表达式</li>
<li>实参类型必须与形参相符</li>
<li>值传递是传递参数值，即单向传递</li>
<li>引用(&amp;)传递可以实现双向传递</li>
<li>常引用(如<code>const int &amp;num</code>)作参数可以保障实参数据的安全</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(<span class="type">int</span> &amp;x, <span class="type">int</span> &amp;y)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> tmp;</span><br><span class="line">    tmp = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">2</span>, y = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">swap</span>(x, y);</span><br><span class="line">    cout &lt;&lt; x &lt;&lt; ends &lt;&lt; y &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* 5 2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="带默认值的参数">带默认值的参数</h4>
<ul>
<li>可以预先设置默认的参数值，调用时如给出实参，则采用实参值，否则采用预先设置的默认值</li>
<li>带默认参数的形参必须在不带默认参数的形参右方，即带默认参数的形参右边不能有不带默认参数的形参</li>
<li>调用函数是实参与形参结合顺序是由左向右，不能由形参名指定</li>
<li>如果有函数声明，则默认参数应该在函数声明中指定而函数定义中无需指定(两个地方都指定默认参数会报错"重定义默认参数",
在定义中指定而声明中不指定则定义前声明后的函数调用无法使用默认参数)</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">prt</span><span class="params">(<span class="type">int</span> x = <span class="number">9</span>, <span class="type">int</span> y = <span class="number">18</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">prt</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">prt</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; x &lt;&lt; ends &lt;&lt; y &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* 9 18</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="函数重载">函数重载</h3>
<p>C++允许函数直接同名，编译器根据形参和实参个数和类型的最佳匹配决定调用函数(不能根据返回值区分)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">prt</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y = <span class="number">18</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">prt</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y = <span class="number">3.14159</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">prt</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">prt</span>(<span class="number">1.0</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">prt</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;调用第一个函数: &quot;</span> &lt;&lt; x &lt;&lt; ends &lt;&lt; y &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">prt</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y)</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;调用第二个函数: &quot;</span> &lt;&lt; x &lt;&lt; ends &lt;&lt; y &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* 调用第一个函数: 1 18</span></span><br><span class="line"><span class="comment">* 调用第二个函数: 1 3.14159</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="内联函数">内联函数</h3>
<ul>
<li>声明时使用关键字inline</li>
<li>编译时进行函数体替换，节省了参数传递、控制转移等的开销</li>
<li>内联函数不能有循环语句和switch语句</li>
<li>对内联函数不能进行异常接口声明</li>
<li>编译器很智能，简单函数会自动当成内联函数</li>
</ul>
<hr>
<h2 id="类与对象">类与对象</h2>
<p>类是同一类对象的抽象，对象是类的某一特定实体</p>
<h3 id="类与对象的定义">类与对象的定义</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 类的定义 */</span></span><br><span class="line"><span class="keyword">class</span> 类名称</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        公有成员(外部接口)</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        私有成员</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">        保护型成员</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 对象的定义 */</span></span><br><span class="line">类名称 对象名;</span><br></pre></td></tr></table></figure>
<p><strong>注意类定义的{}后面有分号;</strong></p>
<p>类成员的访问控制</p>
<ul>
<li>公有类型成员: public声明，是类与外部接口，任何外部函数都能访问</li>
<li>私有类型成员:
private声明，只允许本类成员函数访问，外部函数无法访问</li>
<li>保护类型成员:
protected声明，与private类似，差别在于继承和派生时表现不同</li>
<li>类内成员不声明访问权限时默认是private</li>
<li>类内成员相互访问直接使用成员名</li>
<li>类外使用 <code>对象名.成员名</code> 或
<code>对象指针-&gt;成员名</code> 的方式访问public成员</li>
</ul>
<p>类内初始值</p>
<ul>
<li>可以为数据成员提供一个类内初始值，在创建对象时类内初始值用于初始化成员对象</li>
<li>没有初始值的类内成员默认初始化</li>
</ul>
<p>类的成员函数</p>
<ul>
<li>类中声明函数，类外定义函数(需加类名限定)</li>
<li>也可以在类中定义函数</li>
<li>允许使用重载函数和带默认值的函数</li>
</ul>
<h4 id="类与对象定义示例">类与对象定义示例</h4>
<p>程序中定义了People类，数据成员有名字name(string),
性别sex(枚举类,♀,♂,⚧), 年龄(int)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">gender</span> &#123; Female, Male, Other &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowMyself</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetName</span><span class="params">(string NewName)</span> </span>&#123;</span><br><span class="line">        name = NewName;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    string name = <span class="string">&quot;Wu Ming&quot;</span>;</span><br><span class="line">    gender sex = Female;</span><br><span class="line">    <span class="type">int</span> age = <span class="number">18</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">People::ShowMyself</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;My name is &quot;</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m a &quot;</span> &lt;&lt; (sex == Female ? <span class="string">&quot;Girl&quot;</span> : <span class="string">&quot;Man&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m &quot;</span> &lt;&lt; age &lt;&lt; <span class="string">&quot; years old&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    People myself;</span><br><span class="line">    myself.<span class="built_in">SetName</span>(<span class="string">&quot;小鲸鱼&quot;</span>);</span><br><span class="line">    myself.<span class="built_in">ShowMyself</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* My name is 小鲸鱼</span></span><br><span class="line"><span class="comment">* I&#x27;m a Girl</span></span><br><span class="line"><span class="comment">* I&#x27;m 18 years old</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="构造函数">构造函数</h3>
<ul>
<li>构造函数: 在创建对象时将对象初始化到特定状态</li>
<li>构造函数形式:
构造函数名与类名相同，无返回类型，可重载，可带默认参数</li>
<li>默认构造函数: 无形参或形参全部有默认值的构造函数</li>
<li>隐含构造函数: 编译器自动为没有定义构造函数的类生成的构造函数
<ul>
<li>没有形参，不为数据成员设置初始值</li>
<li>类内成员用定义的初始值初始化，没有初始值的类内成员以默认方式初始化</li>
<li><code>=default</code>在定义了构造函数的情况下使用默认构造函数</li>
</ul></li>
<li>委托构造函数: 使用其他构造函数初始化对象</li>
<li>复制构造函数: 用已经存在的对象初始化同类型新对象
<ul>
<li>复制构造函数的形参为本类的对象引用<code>类名(const 类名 &amp;对象名);</code></li>
<li>隐含复制构造函数:
编译器在未定义类的构造函数时默认生成的复制构造函数,
作用是将已存在的对象数据成员值初始化新对象对应数据成员</li>
<li><code>=delete</code>禁用隐含的默认复制构造函数</li>
<li>复制构造函数被调用的情况
<ul>
<li>使用已存在的对象初始化新对象</li>
<li>函数形参是类的对象，使用实参对象初始化形参对象</li>
<li>函数返回值是类的对象，使用return语句中的对象初始化无名对象返回主调函数(也可以使用移动构造函数)</li>
</ul></li>
<li>对象的浅层复制: 对象成员一一对应复制</li>
<li>对象的深层复制:
对象成员是指针时，不应该复制指针本身，而是复制指针所指对象</li>
</ul></li>
<li>移动构造(C++ 11) - 移动构造函数
<ul>
<li>源对象的资源直接转移给目标对象</li>
<li>发生在临时对象身上</li>
</ul></li>
</ul>
<h4 id="构造函数示例">构造函数示例</h4>
<p>在上一个示例的基础上添加了三种构造函数(移动构造函数会在后面添加)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">gender</span> &#123; Female, Male, Other &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">People</span>() = <span class="keyword">default</span>;<span class="comment">/* 保留隐含的默认构造函数 */</span></span><br><span class="line">    <span class="built_in">People</span>(string myname, gender mysex, <span class="type">int</span> myage);<span class="comment">/* 构造函数的声明 */</span></span><br><span class="line">    <span class="comment">/* 委托构造函数 */</span></span><br><span class="line">    <span class="built_in">People</span>(string myname) :<span class="built_in">People</span>(myname, Female, <span class="number">18</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;调用了委托构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">People</span>(<span class="type">const</span> People &amp;p); <span class="comment">/* 复制构造函数 */</span></span><br><span class="line">    <span class="comment">//People(const People &amp;p) = delete; /* 复制构造函数 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 类的成员函数 */</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowMyself</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetName</span><span class="params">(string NewName)</span> </span>&#123;</span><br><span class="line">        name = NewName;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* 类的数据成员 */</span></span><br><span class="line">    string name = <span class="string">&quot;Wu Ming&quot;</span>;</span><br><span class="line">    gender sex = Female;</span><br><span class="line">    <span class="type">int</span> age = <span class="number">18</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* People类的构造函数定义(使用列表初始化成员) */</span></span><br><span class="line">People::<span class="built_in">People</span>(string myname, gender mysex, <span class="type">int</span> myage) :<span class="built_in">name</span>(myname), <span class="built_in">sex</span>(mysex), <span class="built_in">age</span>(myage) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;New People: &quot;</span> &lt;&lt; myname &lt;&lt; ends &lt;&lt; (mysex == Female ? <span class="string">&quot;Girl&quot;</span> : <span class="string">&quot;Man&quot;</span>) &lt;&lt; ends &lt;&lt; myage &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 复制构造函数 */</span></span><br><span class="line">People::<span class="built_in">People</span>(<span class="type">const</span> People &amp;p) :<span class="built_in">name</span>(p.name), <span class="built_in">sex</span>(p.sex), <span class="built_in">age</span>(p.age) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Copy &quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot; !&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">People::ShowMyself</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;My name is &quot;</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m a &quot;</span> &lt;&lt; (sex == Female ? <span class="string">&quot;Girl&quot;</span> : <span class="string">&quot;Man&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m &quot;</span> &lt;&lt; age &lt;&lt; <span class="string">&quot; years old&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">People <span class="title">myself</span><span class="params">(<span class="string">&quot;小鲸鱼&quot;</span>, Female, <span class="number">16</span>)</span></span>;</span><br><span class="line">    <span class="function">People <span class="title">myfriend</span><span class="params">(<span class="string">&quot;小金鱼&quot;</span>)</span></span>;</span><br><span class="line">    People Whale = myself;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* New People: 小鲸鱼 Girl 16</span></span><br><span class="line"><span class="comment">* New People: 小金鱼 Girl 18</span></span><br><span class="line"><span class="comment">* 调用了委托构造函数</span></span><br><span class="line"><span class="comment">* Copy 小鲸鱼 !</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="析构函数">析构函数</h3>
<ul>
<li>作用: 对象被删除前做些清理工作</li>
<li>析构函数形式: <code>~类名();</code> 无返回类型，无形参</li>
<li>编译器自动生成一个空析构函数，如果未声明析构函数</li>
<li>对象生存期结束前调用</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="comment">/* 析构函数示例 */</span></span><br><span class="line">~<span class="built_in">People</span>() &#123;</span><br><span class="line">    cout &lt;&lt; name &lt;&lt; <span class="string">&quot; has been delete!&quot;</span> &lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="类的组合">类的组合</h3>
<ul>
<li>类的对象成员是其他类的对象</li>
<li>初始化组合类不仅要初始化基本数据成员，还要初始化对象成员</li>
</ul>
<h4 id="前向引用声明">前向引用声明</h4>
<ul>
<li>类似函数的声明，在定义类前声明类<code>class 类名;</code></li>
<li>即使声明了类但在没有定义类前不能声明该类的对象，只能使用该类的符号(例如指针)</li>
</ul>
<h4 id="静态成员">静态成员</h4>
<ul>
<li>使用关键字static声明，该类所有对象共享</li>
<li>(非常量/const的静态成员)必须在类外定义和初始化</li>
</ul>
<h4 id="类的友元">类的友元</h4>
<ul>
<li>友元是一种破坏数据封装和数据隐藏的机制</li>
<li>通过将一个模块声明为另一个模块的友元，一个模块可以引用另一个模块本是隐藏的信息</li>
<li>友元函数
<ul>
<li>在类中由关键字friend修饰声明的非成员函数</li>
<li>函数体中可以通过对象名访问private和protected成员</li>
</ul></li>
<li>友元类
<ul>
<li>类中由关键字friend修饰声明的非成员类</li>
<li>友元类中可以通过对象名访问private和protected成员</li>
</ul></li>
<li>友元关系是单向的(A是B的友元<span class="math inline">\(\neq\)</span>B是A的友元)</li>
</ul>
<h4 id="类的组合综合示例">类的组合综合示例</h4>
<ul>
<li>为People增加了析构函数(虽然在这里没什么必要，仅做演示)</li>
<li>为People添加了统计People对象数量的静态成员并在类外进行了初始化和定义</li>
<li>在上一个示例的基础上定义了组合类Family,
组合类中有4个People类，并且组合类被声明为People的友元类，使得Family中允许直接访问People类中的private成员</li>
<li>定义了类外的友元函数</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="comment">/* 枚举类：性别(女、男、非二元性别) */</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">gender</span> &#123; Female, Male, Other &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">Family</span>;<span class="comment">/* 声明Family为People的友元类 */</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">People</span>() = <span class="keyword">default</span>;<span class="comment">/* 保留隐含的默认构造函数 */</span></span><br><span class="line">    <span class="built_in">People</span>(string myname, gender mysex, <span class="type">int</span> myage);<span class="comment">/* 构造函数的声明 */</span></span><br><span class="line">    <span class="comment">/* 委托构造函数 */</span></span><br><span class="line">    <span class="built_in">People</span>(string myname) :<span class="built_in">People</span>(myname, Female, <span class="number">18</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;调用了委托构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">People</span>(<span class="type">const</span> People &amp;p); <span class="comment">/* 复制构造函数 */</span></span><br><span class="line">    <span class="comment">//People(const People &amp;p) = delete; /* 禁用复制构造函数 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 析构函数 */</span></span><br><span class="line">    ~<span class="built_in">People</span>() &#123;</span><br><span class="line">        cout &lt;&lt; name &lt;&lt; <span class="string">&quot; has been delete!&quot;</span> &lt;&lt;endl;</span><br><span class="line">        --count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 类的成员函数 */</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowMyself</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetName</span><span class="params">(string NewName)</span> </span>&#123;</span><br><span class="line">        name = NewName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">GetName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 类的静态成员函数 */</span></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">Showcount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;There are &quot;</span> &lt;&lt; count &lt;&lt; <span class="string">&quot; People!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 友元函数 */</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">IsFriend</span><span class="params">(<span class="type">const</span> People &amp;p, <span class="type">const</span> People &amp;q)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* 类的数据成员 */</span></span><br><span class="line">    string name = <span class="string">&quot;Wu Ming&quot;</span>;</span><br><span class="line">    gender sex = Female;</span><br><span class="line">    <span class="type">int</span> age = <span class="number">18</span>;</span><br><span class="line">    <span class="comment">/* 类的静态数据成员 */</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 初始化类的静态数据成员 */</span></span><br><span class="line"><span class="type">int</span> People::count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* People类的构造函数定义(使用列表初始化成员) */</span></span><br><span class="line">People::<span class="built_in">People</span>(string myname, gender mysex, <span class="type">int</span> myage) :<span class="built_in">name</span>(myname), <span class="built_in">sex</span>(mysex), <span class="built_in">age</span>(myage) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;New People: &quot;</span> &lt;&lt; myname &lt;&lt; ends &lt;&lt; (mysex == Female ? <span class="string">&quot;Girl&quot;</span> : <span class="string">&quot;Man&quot;</span>) &lt;&lt; ends &lt;&lt; myage &lt;&lt; endl;</span><br><span class="line">    ++count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 复制构造函数 */</span></span><br><span class="line">People::<span class="built_in">People</span>(<span class="type">const</span> People &amp;p) :<span class="built_in">name</span>(p.name), <span class="built_in">sex</span>(p.sex), <span class="built_in">age</span>(p.age) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Copy &quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot; !&quot;</span> &lt;&lt; endl;</span><br><span class="line">    ++count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">People::ShowMyself</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;My name is &quot;</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m a &quot;</span> &lt;&lt; (sex == Female ? <span class="string">&quot;Girl&quot;</span> : <span class="string">&quot;Man&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m &quot;</span> &lt;&lt; age &lt;&lt; <span class="string">&quot; years old&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* People的友元函数,可以访问People中的private和protected成员 */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">IsFriend</span><span class="params">(<span class="type">const</span> People &amp;p, <span class="type">const</span> People &amp;q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p.age == q.age &amp;&amp; p.sex == q.sex)</span><br><span class="line">        cout &lt;&lt; p.name &lt;&lt; <span class="string">&quot; and &quot;</span> &lt;&lt; q.name &lt;&lt; <span class="string">&quot; are good friends!&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 组合类Family */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Family</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/* 构造函数 */</span></span><br><span class="line">    <span class="built_in">Family</span>(People &amp;mother, People &amp;father, People daughter, People &amp;son) : <span class="built_in">mother</span>(mother), <span class="built_in">father</span>(father), <span class="built_in">daughter</span>(daughter), <span class="built_in">son</span>(&amp;son)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; mother.<span class="built_in">GetName</span>() &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; father.<span class="built_in">GetName</span>() &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; daughter.<span class="built_in">GetName</span>() &lt;&lt; <span class="string">&quot; and &quot;</span> &lt;&lt; son.<span class="built_in">GetName</span>() &lt;&lt; <span class="string">&quot; is a family!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 因为是People的友元类所以可以访问People的private成员 */</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowFamily</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;In the family, father is &quot;</span> &lt;&lt; father.name &lt;&lt; <span class="string">&quot;, mother is &quot;</span> &lt;&lt; mother.name &lt;&lt; <span class="string">&quot;, daughter is &quot;</span>\</span><br><span class="line">            &lt;&lt; daughter.name &lt;&lt; <span class="string">&quot;, son is &quot;</span> &lt;&lt; son-&gt;name &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    People mother, father, daughter, *son;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">People <span class="title">myself</span><span class="params">(<span class="string">&quot;小鲸鱼&quot;</span>)</span></span>;<span class="comment">/* Line 1 */</span></span><br><span class="line">    <span class="function">People <span class="title">myfather</span><span class="params">(<span class="string">&quot;father&quot;</span>, Male, <span class="number">39</span>)</span>, <span class="title">mymother</span><span class="params">(<span class="string">&quot;mother&quot;</span>, Female, <span class="number">37</span>)</span></span>;<span class="comment">/* Line 2 */</span></span><br><span class="line">    <span class="function">People <span class="title">mybrother</span><span class="params">(<span class="string">&quot;brother&quot;</span>, Male, <span class="number">12</span>)</span></span>;<span class="comment">/* Line 3 */</span></span><br><span class="line">    <span class="function">People <span class="title">myfriend</span><span class="params">(<span class="string">&quot;小金鱼&quot;</span>)</span></span>;<span class="comment">/* Line 4 */</span></span><br><span class="line">    People::<span class="built_in">Showcount</span>(); <span class="comment">/* 静态成员函数 */</span></span><br><span class="line">    <span class="built_in">IsFriend</span>(myself, myfriend);<span class="comment">/* 友元函数 */</span></span><br><span class="line">    <span class="function">Family <span class="title">myfamily</span><span class="params">(mymother, myfather, myself, mybrother)</span></span>;<span class="comment">/* Line 7 */</span></span><br><span class="line">    myfamily.<span class="built_in">ShowFamily</span>();<span class="comment">/* Line 8 */</span></span><br><span class="line">    People::<span class="built_in">Showcount</span>(); <span class="comment">/* 静态成员函数 */</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;<span class="comment">/* Line 10 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* New People: 小鲸鱼 Girl 18</span></span><br><span class="line"><span class="comment">* 调用了委托构造函数            &lt;- Line 1 调用委托构造函数初始化新建People对象</span></span><br><span class="line"><span class="comment">* New People: father Man 39</span></span><br><span class="line"><span class="comment">* New People: mother Girl 37    &lt;- Line 2 新建两个People对象(从左向右)</span></span><br><span class="line"><span class="comment">* New People: brother Man 12    &lt;- Line 3 新建一个People对象</span></span><br><span class="line"><span class="comment">* New People: 小金鱼 Girl 18</span></span><br><span class="line"><span class="comment">* 调用了委托构造函数    &lt;- Line 4 新建一个People对象</span></span><br><span class="line"><span class="comment">* There are 5 People!        &lt;- Line 5 目前有5个People对象</span></span><br><span class="line"><span class="comment">* 小鲸鱼 and 小金鱼 are good friends!    &lt;- 调用友元函数</span></span><br><span class="line"><span class="comment">* Copy 小鲸鱼 !        &lt;- Line 7 myself对象作为实参传递给Family的构造函数发生复制构造，另外三个对象是传递引用所以没有发生复制构造</span></span><br><span class="line"><span class="comment">* Copy mother !</span></span><br><span class="line"><span class="comment">* Copy father !</span></span><br><span class="line"><span class="comment">* Copy 小鲸鱼 !        &lt;- Line 7 myfamily对象初始化时调用复制构造函数按对象内成员定义顺序初始化成员对象, mybrother是对象指针所以没有发生复制构造</span></span><br><span class="line"><span class="comment">* mother, father, 小鲸鱼 and brother is a family!    &lt;- myfamily对象初始化完成</span></span><br><span class="line"><span class="comment">* 小鲸鱼 has been delete!    &lt;- myfamily对象初始化完成, 作为构造函数形参的对象被删除时调用析构函数</span></span><br><span class="line"><span class="comment">* In the family, father is father, mother is mother, daughter is 小鲸鱼, son is brother        &lt;- Line 8</span></span><br><span class="line"><span class="comment">* There are 8 People!        &lt;- 之前的5个People对象+myfamily的3个People对象</span></span><br><span class="line"><span class="comment">* 小鲸鱼 has been delete!    &lt;- Line 10 程序运行结束，按照对象的定义顺序依次调用析构函数并删除对象</span></span><br><span class="line"><span class="comment">* father has been delete!</span></span><br><span class="line"><span class="comment">* mother has been delete!</span></span><br><span class="line"><span class="comment">* 小金鱼 has been delete!</span></span><br><span class="line"><span class="comment">* brother has been delete!</span></span><br><span class="line"><span class="comment">* mother has been delete!</span></span><br><span class="line"><span class="comment">* father has been delete!</span></span><br><span class="line"><span class="comment">* 小鲸鱼 has been delete!</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="结构体">结构体</h3>
<ul>
<li>和C语言的结构体类似，是一种特殊形态的类</li>
<li>默认成员访问权限是public</li>
<li>只有数据成员没有函数成员的情况适合使用结构体</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 结构体定义 */</span></span><br><span class="line"><span class="keyword">struct</span> 结构体名</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    公有数据成员;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    私有型成员;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    保护型成员;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* 结构体变量声明(区别C语言，前面可以不用加struct) */</span></span><br><span class="line">结构体名 结构体变量名;</span><br><span class="line"><span class="comment">/* 所有数据成员都是public, 没有自定义构造函数, 没有基类和虚函数，可以这样赋初值 */</span></span><br><span class="line">结构体名 结构体变量名 = &#123;数据成员<span class="number">1</span>初值, 数据成员<span class="number">2</span>初值, …… &#125;</span><br></pre></td></tr></table></figure>
<h3 id="联合体">联合体</h3>
<p>联合体: 成员共用一组内存空间，联合体内有且只有一个成员生效,
联合体变量声明类似结构体，不再赘述。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> 联合体名</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    公有数据成员;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    私有型成员;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    保护型成员;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="数据共享和保护">数据共享和保护</h3>
<h4 id="标识符作用域">标识符作用域</h4>
<ul>
<li>函数原型作用域
<ul>
<li>函数原型中的参数，仅在"()"内</li>
</ul></li>
<li>局部作用域
<ul>
<li>函数形参、块中标识符，仅在块"{}"内</li>
</ul></li>
<li>类作用域
<ul>
<li>类内和非内联成员函数的函数体</li>
</ul></li>
<li>文件作用域
<ul>
<li>上述作用域之外的就是文件作用域，范围在声明到文件结尾</li>
</ul></li>
<li>命名空间作用域</li>
</ul>
<p>可见性</p>
<ul>
<li>在作用域 <span class="math inline">\(\neq\)</span> 可见</li>
<li>同名标识符内层会覆盖外层使得外层不可见</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">func</span><span class="params">(<span class="type">int</span> i)</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; &amp;i &lt;&lt; ends &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">        cout &lt;&lt; &amp;i &lt;&lt; ends &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; &amp;i &lt;&lt; ends &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">func</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* 0032F640 10</span></span><br><span class="line"><span class="comment">* 0032F62C 1</span></span><br><span class="line"><span class="comment">* 0032F640 10</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="对象的生存期">对象的生存期</h4>
<ul>
<li>静态生存期(static声明)
<ul>
<li>与程序运行期相同</li>
</ul></li>
<li>动态生存期(作用域内)</li>
</ul>
<h4 id="共享数据的保护">共享数据的保护</h4>
<p>对于又需要共享，又不希望被修改的数据应该声明为常类型(const)，不改变对象状态的成员函数声明为常函数</p>
<p>常类型：必须初始化，不能修改<br>
常对象只能调用常成员函数</p>
<p>外部变量、外部函数: extern关键字声明</p>
<hr>
<h2 id="数组指针字符串">数组、指针、字符串</h2>
<p>基本是C语言的内容，只提一些注意的点和与C不同的点</p>
<h3 id="数组">数组</h3>
<p>定义: <code>类型说明符 数组名[常量][常量]……;</code><br>
数组名是表示数组首元素内存地址的常量(可以理解为常量指针)<br>
二维数组按行存储，static默认初始化为0，部分初始化化剩下的自动初始化为0</p>
<h3 id="指针">指针</h3>
<p>定义:
<code>(存储类型-static, const等) 数据类型 *指针名 = 初始地址;</code></p>
<p>指针空值<span class="math inline">\(nullptr\)</span>(C++ 11),
比NULL更安全<br>
void类型指针可以指向任何类型对象</p>
<p>指向常量的指针(<code>const int *p;</code>):
指向常量，指针本身可变<br>
常量指针(<code>int *const p</code>): 指针不可变，不指向常量</p>
<p>指针数组(<code>int *p[3]</code>):
数组的元素是指针，这是一个数组<br>
数组指针(<code>int (*p)[3]</code>):
指向数组的指针，这是一个指针("[]"的优先级比"*"高所以要用括号)<br>
二维数组(<code>int nums[3][3]</code>):
数组的元素是数组，不太严谨的可以理解为是(常指针)数组</p>
<p>返回值是指针类型的函数:</p>
<ul>
<li><code>存储类型 数据类型 *函数名()&#123;&#125;</code><br>
</li>
<li>注意：返回局部变量的地址是非法的</li>
</ul>
<p>指向函数的指针:</p>
<ul>
<li>定义: <code>存储类型 数据类型 (*函数指针名)();</code></li>
<li>例子: <code>int (*func)(int, int)</code> -&gt;
指向有两个int形参且返回值是int的函数的指针</li>
</ul>
<p>对象指针:
对象使用'.'访问成员，对象指针使用'-&gt;'访问成员，'this'指针指向当前对象自己</p>
<h3 id="动态内存分配">动态内存分配</h3>
<p>动态内存申请:</p>
<ul>
<li>定义: <code>new 类型名(初始化参数列表)</code></li>
<li>定义: <code>new 类型名[数组长度]</code></li>
<li>定义: <code>new 类型名[数组长度1][数组长度2][数组长度3]</code></li>
<li>成功返回指向分配空间的对应类型的指针，失败抛出异常</li>
</ul>
<p>释放内存</p>
<p>定义: <code>delete 指针名;</code>,
释放指针所指内存空间，指针必须是new返回值<br>
定义: <code>delete[] 指针名;</code>,
释放指针所指内存空间，指针必须是new返回值(多维数组也只要一个'[]')</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="comment">/* People类定义见上一代码示例 */</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    People *p = <span class="keyword">new</span> <span class="built_in">People</span>(<span class="string">&quot;小鲸鱼&quot;</span>, Female, <span class="number">18</span>);</span><br><span class="line">    p-&gt;<span class="built_in">ShowMyself</span>();</span><br><span class="line">    <span class="keyword">delete</span> p;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* New People: 小鲸鱼 Girl 18</span></span><br><span class="line"><span class="comment">* My name is 小鲸鱼</span></span><br><span class="line"><span class="comment">* I&#x27;m a Girl</span></span><br><span class="line"><span class="comment">* I&#x27;m 18 years old</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="继承和派生">继承和派生</h2>
<h3 id="什么是继承与派生">什么是继承与派生</h3>
<ul>
<li>继承是保持已有类的特性以此来构造新类</li>
<li>派生是在已有类的基础上新增自己的特性而产生新类</li>
<li>被继承的已有类称为基类/父类</li>
<li>派生出的新类称为派生类/子类</li>
<li>直接参与派生的基类称为直接基类，否则是间接基类</li>
</ul>
<p>单/多继承派生类:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 派生类名 : 继承方式 基类名, 继承方式 基类名, ……</span><br><span class="line">&#123;</span><br><span class="line">    成员声明;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="继承方式">继承方式</h3>
<p>继承方式影响派生类成员和对象对基类成员的访问权限</p>
<h4 id="公有继承public">公有继承public</h4>
<ul>
<li>基类的public和protected成员在派生类中保持不变</li>
<li>基类的private成员不可直接访问(可以通过基类成员函数间接访问)</li>
<li>派生类的成员函数可以访问基类的public和protected,
不能直接访问private</li>
<li>在类外通过派生类对象只能访问基类的public成员</li>
</ul>
<h4 id="私有继承private">私有继承private</h4>
<ul>
<li>基类的public和protect成员都作为派生类的private成员</li>
<li>基类的private成员不可直接访问(可以通过基类成员函数间接访问)</li>
<li>派生类的成员函数可以访问基类的public和protected,
不能直接访问private</li>
<li>在类外通过派生类对象不能访问任何基类成员</li>
</ul>
<h4 id="保护继承protected">保护继承protected</h4>
<ul>
<li>基类的public和protect成员都作为派生类的protected成员</li>
<li>基类的private成员不可直接访问(可以通过基类成员函数间接访问)</li>
<li>派生类的成员函数可以访问基类的public和protected,
不能直接访问private</li>
<li>在类外通过派生类对象不能访问任何基类成员</li>
</ul>
<p>protected成员的特点与作用:</p>
<ul>
<li>对所在类对象模块与private成员性质相同</li>
<li>对派生类对象模块与public成员性质相同</li>
</ul>
<h4 id="类的继承示例">类的继承示例</h4>
<p>在前文类的定义示例基础上增加了单继承类妻子wife和丈夫husband(这里仅列出妻子，其他代码见后文)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="comment">/* 单继承类 */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Husband</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Wife</span> : <span class="keyword">public</span> People</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/* 构造函数 */</span></span><br><span class="line">    <span class="comment">/* using People::People; // 继承基类的构造函数 */</span></span><br><span class="line">    <span class="built_in">Wife</span>() : <span class="built_in">Wife</span>(<span class="string">&quot;Wife&quot;</span>, <span class="number">23</span>, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Wife</span>(string myname) : <span class="built_in">Wife</span>(myname, <span class="number">23</span>, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Wife</span>(string myname, <span class="type">int</span> age) : <span class="built_in">Wife</span>(myname, age, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Wife</span>(string myname, <span class="type">int</span> myage, Husband *myhusband) : <span class="built_in">People</span>(myname, Female, myage), <span class="built_in">husband</span>(myhusband) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowHusband</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Husband *husband;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Wife::ShowHusband</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">GetName</span>() &lt;&lt; <span class="string">&quot;&#x27;s husband is &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;husband-&gt;<span class="built_in">GetName</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="类型转换">类型转换</h3>
<ul>
<li>公有派生类对象可以被当做基类对象使用</li>
<li>派生类对象可以隐含转换为基类对象</li>
<li>派生类对象可以初始化基类引用</li>
<li>派生类指针可以隐含转化为基类指针</li>
<li>基类对象名、指针只能使用基类继承的成员</li>
</ul>
<h3 id="派生类的构造函数与析构函数">派生类的构造函数与析构函数</h3>
<ul>
<li>派生类默认不继承基类的构造函数</li>
<li>C++11
规定可以使用using继承基类构造函数<code>using 基类名::基类名</code></li>
<li>派生类的构造函数需要给基类的构造函数传递参数并且初始化新增成员</li>
<li>派生类构造函数语法(类外定义)</li>
<li><code>派生类名::派生类名(形参列表) : 基类名(基类参数列表), 基类名(基类参数列表), 新增成员初始化列表&#123;&#125;</code></li>
<li>执行顺序: 按继承顺序调用基类构造函数, 按定义顺序初始化新增成员,
函数体</li>
<li>复制构造函数
<ul>
<li>默认的复制构造函数，先调用基类复制构造函数，再复制新增成员</li>
<li>可以将派生类的引用作为基类复制构造函数的实参(隐含类型转换),
再复制新增成员</li>
</ul></li>
<li>析构函数
<ul>
<li>派生类不继承基类的析构函数，但系统会隐式调用基类的析构函数</li>
<li>顺序: 先析构新增成员，在调用基类析构函数</li>
</ul></li>
</ul>
<h3 id="派生类成员的访问与构成">派生类成员的访问与构成</h3>
<ul>
<li>派生类默认继承基类除构造函数和析构函数外的所有成员</li>
<li>建议不要重新定义继承的非虚函数</li>
</ul>
<p>当派生类与基类有相同成员时，派生类成员会屏蔽基类成员，未限定情况下默认访问的是派生类成员，要访问被屏蔽的基类成员需要使用作用域操作符<code>基类名::成员名</code>来限定(同时可以避免多继承同名成员造成的二义性问题)#</p>
<h4 id="虚基类">虚基类</h4>
<ul>
<li>作用: 防止多重继承可能导致的不一致性和冗余的问题
<ul>
<li>多继承时可能对同一基类多次继承使得数据不一致</li>
<li>为最远派生类提供唯一基类，防止产生多次复制</li>
</ul></li>
<li>声明: <code>class 派生类 : virtual 继承方式 基类</code></li>
<li>在第一继承时就要将基类设置为虚基类</li>
<li>虚基类的构造函数
<ul>
<li>建立对象时所指定的类为最远派生类</li>
<li>虚基类的成员是由最远派生类的构造函数直接调用虚基类的构造函数进行初始化的</li>
<li>建立对象时，只有最远派生类的构造函数调用虚基类的构造函数，其他派生类对虚基类的构造函数的调用忽略</li>
</ul></li>
</ul>
<h3 id="类的继承综合示例">类的继承综合示例</h3>
<p>程序中去除了前面构造函数和析构函数的输出演示，并添加了单继承类妻子和丈夫</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="comment">/* 枚举类：性别(女、男、非二元性别) */</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">gender</span> &#123; Female, Male, Other &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">Family</span>;<span class="comment">/* 声明Family为People的友元类 */</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">People</span>() = <span class="keyword">default</span>;<span class="comment">/* 保留隐含的默认构造函数 */</span></span><br><span class="line">    <span class="built_in">People</span>(string myname, gender mysex, <span class="type">int</span> myage);<span class="comment">/* 构造函数的声明 */</span></span><br><span class="line">    <span class="comment">/* 委托构造函数 */</span></span><br><span class="line">    <span class="built_in">People</span>(string myname) :<span class="built_in">People</span>(myname, Female, <span class="number">18</span>) &#123;</span><br><span class="line">        <span class="comment">// cout &lt;&lt; &quot;调用了委托构造函数&quot; &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">People</span>(<span class="type">const</span> People &amp;p); <span class="comment">/* 复制构造函数 */</span></span><br><span class="line">    <span class="comment">//People(const People &amp;p) = delete; /* 禁用复制构造函数 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 析构函数 */</span></span><br><span class="line">    ~<span class="built_in">People</span>() &#123;</span><br><span class="line">        <span class="comment">// cout &lt;&lt; name &lt;&lt; &quot; has been delete!&quot; &lt;&lt;endl;</span></span><br><span class="line">        --count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 类的成员函数 */</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowMyself</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetName</span><span class="params">(string NewName)</span> </span>&#123;</span><br><span class="line">        name = NewName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">GetName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetAge</span><span class="params">(<span class="type">int</span> myage)</span> </span>&#123;</span><br><span class="line">        age = myage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 类的静态成员函数 */</span></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">Showcount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;There are &quot;</span> &lt;&lt; count &lt;&lt; <span class="string">&quot; People!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 友元函数 */</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">IsFriend</span><span class="params">(<span class="type">const</span> People &amp;p, <span class="type">const</span> People &amp;q)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* 类的数据成员 */</span></span><br><span class="line">    string name = <span class="string">&quot;Wu Ming&quot;</span>;</span><br><span class="line">    gender sex = Female;</span><br><span class="line">    <span class="type">int</span> age = <span class="number">18</span>;</span><br><span class="line">    <span class="comment">/* 类的静态数据成员 */</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 初始化类的静态数据成员 */</span></span><br><span class="line"><span class="type">int</span> People::count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* People类的构造函数定义(使用列表初始化成员) */</span></span><br><span class="line">People::<span class="built_in">People</span>(string myname, gender mysex, <span class="type">int</span> myage) :<span class="built_in">name</span>(myname), <span class="built_in">sex</span>(mysex), <span class="built_in">age</span>(myage) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;New People: &quot;</span> &lt;&lt; myname &lt;&lt; ends &lt;&lt; (mysex == Female ? <span class="string">&quot;Girl&quot;</span> : <span class="string">&quot;Man&quot;</span>) &lt;&lt; ends &lt;&lt; myage &lt;&lt; endl;</span><br><span class="line">    ++count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 复制构造函数 */</span></span><br><span class="line">People::<span class="built_in">People</span>(<span class="type">const</span> People &amp;p) :<span class="built_in">name</span>(p.name), <span class="built_in">sex</span>(p.sex), <span class="built_in">age</span>(p.age) &#123;</span><br><span class="line">    <span class="comment">// cout &lt;&lt; &quot;Copy &quot; &lt;&lt; name &lt;&lt; &quot; !&quot; &lt;&lt; endl;</span></span><br><span class="line">    ++count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">People::ShowMyself</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;My name is &quot;</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m a &quot;</span> &lt;&lt; (sex == Female ? <span class="string">&quot;Girl&quot;</span> : <span class="string">&quot;Man&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m &quot;</span> &lt;&lt; age &lt;&lt; <span class="string">&quot; years old&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* People的友元函数,可以访问People中的private和protected成员 */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">IsFriend</span><span class="params">(<span class="type">const</span> People &amp;p, <span class="type">const</span> People &amp;q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p.age == q.age &amp;&amp; p.sex == q.sex)</span><br><span class="line">        cout &lt;&lt; p.name &lt;&lt; <span class="string">&quot; and &quot;</span> &lt;&lt; q.name &lt;&lt; <span class="string">&quot; are good friends!&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 单继承类 */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Husband</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Wife</span> : <span class="keyword">public</span> People</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/* 构造函数 */</span></span><br><span class="line">    <span class="comment">/* using People::People; // 继承基类的构造函数 */</span></span><br><span class="line">    <span class="built_in">Wife</span>() : <span class="built_in">Wife</span>(<span class="string">&quot;Wife&quot;</span>, <span class="number">23</span>, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Wife</span>(string myname) : <span class="built_in">Wife</span>(myname, <span class="number">23</span>, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Wife</span>(string myname, <span class="type">int</span> age) : <span class="built_in">Wife</span>(myname, age, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Wife</span>(string myname, <span class="type">int</span> myage, Husband *myhusband) : <span class="built_in">People</span>(myname, Female, myage), <span class="built_in">husband</span>(myhusband) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowHusband</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetHusband</span><span class="params">(Husband &amp;h)</span> </span>&#123; husband = &amp;h; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Husband *husband;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Husband</span> : <span class="keyword">public</span> People</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/* 构造函数 */</span></span><br><span class="line">    <span class="built_in">Husband</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">Husband</span>(string myname)  :<span class="built_in">Husband</span>(myname, <span class="number">25</span>, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Husband</span>(string myname, <span class="type">int</span> age) : <span class="built_in">Husband</span>(myname, age, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Husband</span>(string myname, <span class="type">int</span> myage, Wife *mywife) : <span class="built_in">People</span>(myname, Male, myage), <span class="built_in">wife</span>(mywife) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowWife</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetWife</span><span class="params">(Wife &amp;w)</span> </span>&#123; wife = &amp;w; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Wife *wife;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Wife::ShowHusband</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (husband)</span><br><span class="line">        cout &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">GetName</span>() &lt;&lt; <span class="string">&quot;&#x27;s husband is &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;husband-&gt;<span class="built_in">GetName</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Husband::ShowWife</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (wife)</span><br><span class="line">        cout &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">GetName</span>() &lt;&lt; <span class="string">&quot;&#x27;s Wife is &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;wife-&gt;<span class="built_in">GetName</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 组合类Family */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Family</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/* 构造函数 */</span></span><br><span class="line">    <span class="built_in">Family</span>(People &amp;mother, People &amp;father, People daughter, People &amp;son) : <span class="built_in">mother</span>(mother), <span class="built_in">father</span>(father), <span class="built_in">daughter</span>(daughter), <span class="built_in">son</span>(&amp;son)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// cout &lt;&lt; mother.GetName() &lt;&lt; &quot;, &quot; &lt;&lt; father.GetName() &lt;&lt; &quot;, &quot; &lt;&lt; daughter.GetName() &lt;&lt; &quot; and &quot; &lt;&lt; son.GetName() &lt;&lt; &quot; is a family!&quot; &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 因为是People的友元类所以可以访问People的private成员 */</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowFamily</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;In the family, father is &quot;</span> &lt;&lt; father.name &lt;&lt; <span class="string">&quot;, mother is &quot;</span> &lt;&lt; mother.name &lt;&lt; <span class="string">&quot;, daughter is &quot;</span>\</span><br><span class="line">            &lt;&lt; daughter.name &lt;&lt; <span class="string">&quot;, son is &quot;</span> &lt;&lt; son-&gt;name &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    People mother, father, daughter, *son;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* 小鲸鱼 */</span></span><br><span class="line">    <span class="function">People <span class="title">myself</span><span class="params">(<span class="string">&quot;小鲸鱼&quot;</span>, Female, <span class="number">18</span>)</span></span>;</span><br><span class="line">    <span class="comment">/* 小鲸鱼的妈妈 */</span></span><br><span class="line">    <span class="function">Wife <span class="title">mymother</span><span class="params">(<span class="string">&quot;Mom&quot;</span>, <span class="number">37</span>)</span></span>;</span><br><span class="line">    <span class="comment">/* 小鲸鱼的爸爸 */</span></span><br><span class="line">    <span class="function">Husband <span class="title">myfather</span><span class="params">(<span class="string">&quot;Dad&quot;</span>, <span class="number">39</span>, &amp;mymother)</span></span>;</span><br><span class="line">    mymother.<span class="built_in">SetHusband</span>(myfather);</span><br><span class="line">    <span class="comment">/* 小鲸鱼的弟弟 */</span></span><br><span class="line">    <span class="function">People <span class="title">mybrother</span><span class="params">(<span class="string">&quot;鲸鱼宝宝&quot;</span>, Male, <span class="number">12</span>)</span></span>;</span><br><span class="line">    <span class="comment">/* 小鲸鱼的闺蜜 */</span></span><br><span class="line">    <span class="function">People <span class="title">myfriend</span><span class="params">(<span class="string">&quot;小金鱼&quot;</span>, Female, <span class="number">18</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 妈妈和爸爸的关系 */</span></span><br><span class="line">    mymother.<span class="built_in">ShowHusband</span>();</span><br><span class="line">    myfather.<span class="built_in">ShowWife</span>();</span><br><span class="line"></span><br><span class="line">    People::<span class="built_in">Showcount</span>(); <span class="comment">/* 静态成员函数 */</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">IsFriend</span>(myself, myfriend);<span class="comment">/* 友元函数 */</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Family <span class="title">myfamily</span><span class="params">(mymother, myfather, myself, mybrother)</span></span>;</span><br><span class="line">    myfamily.<span class="built_in">ShowFamily</span>();</span><br><span class="line"></span><br><span class="line">    People::<span class="built_in">Showcount</span>(); <span class="comment">/* 静态成员函数 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* New People: 小鲸鱼 Girl 18</span></span><br><span class="line"><span class="comment">* New People: Mom Girl 37</span></span><br><span class="line"><span class="comment">* New People: Dad Man 39</span></span><br><span class="line"><span class="comment">* New People: 鲸鱼宝宝 Man 12</span></span><br><span class="line"><span class="comment">* New People: 小金鱼 Girl 18</span></span><br><span class="line"><span class="comment">* Mom&#x27;s husband is Dad</span></span><br><span class="line"><span class="comment">* Dad&#x27;s Wife is Mom</span></span><br><span class="line"><span class="comment">* There are 5 People!</span></span><br><span class="line"><span class="comment">* 小鲸鱼 and 小金鱼 are good friends!</span></span><br><span class="line"><span class="comment">* In the family, father is Dad, mother is Mom, daughter is 小鲸鱼, son is 鲸鱼宝宝</span></span><br><span class="line"><span class="comment">* There are 8 People!</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="多态">多态</h2>
<h3 id="运算符重载">运算符重载</h3>
<ul>
<li>运算符重载是对已有的运算符赋予多重含义，使得同一运算符作用与不同类型的数据时导致不同的行为(类似函数重载)</li>
<li>运算符可以重载除
<code>.  .*  ::  ?.</code>以外所有C++中已有的运算符</li>
<li>重载的运算符结合性和优先级不变</li>
<li>运算符重载可以重载为类的非静态成员函数或非成员函数</li>
</ul>
<h4 id="运算符重载为成员函数">运算符重载为成员函数</h4>
<p>定义:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line">函数类型 <span class="keyword">operator</span> 运算符 (形参)&#123;&#125;</span><br><span class="line"><span class="comment">/* 参数个数 = 原操作数个数 - 1 (除去参与运算的对象本身)(后置++ --除外) */</span></span><br></pre></td></tr></table></figure>
<ul>
<li>双目运算符重载: <code>类1 op 类2</code>,
则运算符op应该重载为类A的成员函数,
形参是类2(要求类1必须是自定义类型，类2可以是基本数据类型),
重载后<code>类1 op 类2</code>相当于调用重载函数<code>类A.operator op(类2)</code></li>
<li>前置单目运算符重载:
无形参，重载后<code>op 类</code>相当于调用重载函数<code>类.operator op()</code></li>
<li>后置单目运算符重载:
为与前置区分，必须有一个int类型形参，但不用写参数名、函数体内也不能使用该参数，重载后<code>类 op</code>相当于调用重载函数<code>类.operator op(int)</code></li>
</ul>
<h4 id="运算符重载为非成员函数">运算符重载为非成员函数</h4>
<ul>
<li>有些运算符不能重载为成员函数，例如基本数据类型，或是不能重载运算符的对象</li>
<li>函数的形参代表自左向右的操作数</li>
<li>参数个数 = 原操作数个数(后置++ --除外)</li>
<li>至少要有一个自定义类型，无法重载已有的运算</li>
<li>其他和重载为成员函数类似</li>
</ul>
<h4 id="运算符重载示例">运算符重载示例</h4>
<p>程序中删除了组合类Family，并为People, Wife,
Husband类添加了运算符重载，并且People类还添加了移动构造函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="comment">/* 枚举类：性别(女、男、其他) */</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">gender</span></span><br><span class="line">&#123;</span><br><span class="line">    Female,</span><br><span class="line">    Male,</span><br><span class="line">    Other</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">Family</span>; <span class="comment">/* 声明Family为People的友元类 */</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">People</span>() = <span class="keyword">default</span>;                             <span class="comment">/* 保留隐含的默认构造函数 */</span></span><br><span class="line">    <span class="built_in">People</span>(string myname, gender mysex, <span class="type">int</span> myage); <span class="comment">/* 构造函数的声明 */</span></span><br><span class="line">    <span class="comment">/* 委托构造函数 */</span></span><br><span class="line">    <span class="built_in">People</span>(string myname) : <span class="built_in">People</span>(myname, Female, <span class="number">18</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// cout &lt;&lt; &quot;调用了委托构造函数&quot; &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">People</span>(<span class="type">const</span> People &amp;p); <span class="comment">/* 复制构造函数 */</span></span><br><span class="line">    <span class="comment">//People(const People &amp;p) = delete; /* 禁用复制构造函数 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 移动构造函数 */</span></span><br><span class="line">    <span class="built_in">People</span>(People &amp;&amp;p) : <span class="built_in">name</span>(p.name), <span class="built_in">sex</span>(p.sex), <span class="built_in">age</span>(p.age)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;调用了移动构造函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* 移动赋值函数(运算符重载函数) */</span></span><br><span class="line">    <span class="type">void</span> <span class="keyword">operator</span>=(People &amp;&amp;p)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;调用了移动赋值函数&quot;</span> &lt;&lt; endl;</span><br><span class="line">        p.<span class="built_in">ShowMyself</span>();</span><br><span class="line">        <span class="keyword">this</span>-&gt;name = p.name;</span><br><span class="line">        <span class="keyword">this</span>-&gt;age = p.age;</span><br><span class="line">        <span class="keyword">this</span>-&gt;sex = p.sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 前置单目运算符重载 */</span></span><br><span class="line">    People <span class="keyword">operator</span>++()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;age++;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 后置单目运算符重载 */</span></span><br><span class="line">    People <span class="keyword">operator</span>++(<span class="type">int</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">People <span class="title">tmp</span><span class="params">(*<span class="keyword">this</span>)</span></span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;age++;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 析构函数 */</span></span><br><span class="line">    ~<span class="built_in">People</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// cout &lt;&lt; name &lt;&lt; &quot; has been delete!&quot; &lt;&lt; endl;</span></span><br><span class="line">        --count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 类的成员函数 */</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowMyself</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetName</span><span class="params">(string NewName)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        name = NewName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">string <span class="title">GetName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetAge</span><span class="params">(<span class="type">int</span> myage)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        age = myage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 类的静态成员函数 */</span></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">Showcount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;There are &quot;</span> &lt;&lt; count &lt;&lt; <span class="string">&quot; People!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 友元函数 */</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">IsFriend</span><span class="params">(<span class="type">const</span> People &amp;p, <span class="type">const</span> People &amp;q)</span></span>;</span><br><span class="line">    <span class="keyword">friend</span> ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;out, People &amp;p);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">/* 类的数据成员 */</span></span><br><span class="line">    string name = <span class="string">&quot;Wu Ming&quot;</span>;</span><br><span class="line">    gender sex = Female;</span><br><span class="line">    <span class="type">int</span> age = <span class="number">18</span>;</span><br><span class="line">    <span class="comment">/* 类的静态数据成员 */</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 初始化类的静态数据成员 */</span></span><br><span class="line"><span class="type">int</span> People::count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* People类的构造函数定义(使用列表初始化成员) */</span></span><br><span class="line">People::<span class="built_in">People</span>(string myname, gender mysex, <span class="type">int</span> myage) : <span class="built_in">name</span>(myname), <span class="built_in">sex</span>(mysex), <span class="built_in">age</span>(myage)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// cout &lt;&lt; &quot;New People: &quot; &lt;&lt; myname &lt;&lt; ends &lt;&lt; (mysex == Female ? &quot;Girl&quot; : &quot;Man&quot;) &lt;&lt; ends &lt;&lt; myage &lt;&lt; endl;</span></span><br><span class="line">    ++count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 复制构造函数 */</span></span><br><span class="line">People::<span class="built_in">People</span>(<span class="type">const</span> People &amp;p) : <span class="built_in">name</span>(p.name), <span class="built_in">sex</span>(p.sex), <span class="built_in">age</span>(p.age)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// cout &lt;&lt; &quot;Copy &quot; &lt;&lt; name &lt;&lt; &quot; !&quot; &lt;&lt; endl;</span></span><br><span class="line">    ++count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">People::ShowMyself</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;My name is &quot;</span> &lt;&lt; name &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m a &quot;</span> &lt;&lt; (sex == Female ? <span class="string">&quot;Girl&quot;</span> : <span class="string">&quot;Man&quot;</span>) &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;I&#x27;m &quot;</span> &lt;&lt; age &lt;&lt; <span class="string">&quot; years old&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* People的友元函数,可以访问People中的private和protected成员 */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">IsFriend</span><span class="params">(<span class="type">const</span> People &amp;p, <span class="type">const</span> People &amp;q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p.age == q.age &amp;&amp; p.sex == q.sex)</span><br><span class="line">        cout &lt;&lt; p.name &lt;&lt; <span class="string">&quot; and &quot;</span> &lt;&lt; q.name &lt;&lt; <span class="string">&quot; are good friends!&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* People的友元函数，重载&lt;&lt;为非成员函数 */</span></span><br><span class="line">ostream &amp;<span class="keyword">operator</span>&lt;&lt;(ostream &amp;out, People &amp;p)</span><br><span class="line">&#123;</span><br><span class="line">    out &lt;&lt; <span class="string">&quot;I&#x27;m a &quot;</span> &lt;&lt; (p.sex == Female ? <span class="string">&quot;Girl&quot;</span> : <span class="string">&quot;Man&quot;</span>) &lt;&lt; <span class="string">&quot; named &quot;</span> &lt;&lt; p.name &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; p.age &lt;&lt; <span class="string">&quot; years old.&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 单继承类 */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Husband</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Wife</span> : <span class="keyword">public</span> People</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">Husband</span>; <span class="comment">/* 声明Husband为Wife的友元类 */</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/* 构造函数 */</span></span><br><span class="line">    <span class="comment">/* using People::People; // 继承基类的构造函数 */</span></span><br><span class="line">    <span class="built_in">Wife</span>() : <span class="built_in">Wife</span>(<span class="string">&quot;Wife&quot;</span>, <span class="number">23</span>, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Wife</span>(string myname) : <span class="built_in">Wife</span>(myname, <span class="number">23</span>, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Wife</span>(string myname, <span class="type">int</span> age) : <span class="built_in">Wife</span>(myname, age, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Wife</span>(string myname, <span class="type">int</span> myage, Husband *myhusband) : <span class="built_in">People</span>(myname, Female, myage), <span class="built_in">husband</span>(myhusband) &#123;&#125;</span><br><span class="line">    <span class="comment">/* 成员函数 */</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowHusband</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetHusband</span><span class="params">(Husband &amp;h)</span> </span>&#123; husband = &amp;h; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 运算符重载 */</span></span><br><span class="line">    People <span class="keyword">operator</span>+(Husband &amp;H);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Husband *husband;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Husband</span> : <span class="keyword">public</span> People</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> <span class="title class_">Wife</span>; <span class="comment">/* 声明Wife为Husband的友元类 */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/* 构造函数 */</span></span><br><span class="line">    <span class="built_in">Husband</span>() = <span class="keyword">default</span>;</span><br><span class="line">    <span class="built_in">Husband</span>(string myname) : <span class="built_in">Husband</span>(myname, <span class="number">25</span>, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Husband</span>(string myname, <span class="type">int</span> age) : <span class="built_in">Husband</span>(myname, age, <span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">Husband</span>(string myname, <span class="type">int</span> myage, Wife *mywife) : <span class="built_in">People</span>(myname, Male, myage), <span class="built_in">wife</span>(mywife) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ShowWife</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetWife</span><span class="params">(Wife &amp;w)</span> </span>&#123; wife = &amp;w; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 运算符重载函数 */</span></span><br><span class="line">    People <span class="keyword">operator</span>+(Wife &amp;w);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Wife *wife;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Wife::ShowHusband</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (husband)</span><br><span class="line">        cout &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">GetName</span>() &lt;&lt; <span class="string">&quot;&#x27;s husband is &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;husband-&gt;<span class="built_in">GetName</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Husband::ShowWife</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (wife)</span><br><span class="line">        cout &lt;&lt; <span class="keyword">this</span>-&gt;<span class="built_in">GetName</span>() &lt;&lt; <span class="string">&quot;&#x27;s Wife is &quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;wife-&gt;<span class="built_in">GetName</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 运算符重载函数 */</span></span><br><span class="line">People Wife::<span class="keyword">operator</span>+(Husband &amp;H)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">People</span>(<span class="keyword">this</span>-&gt;<span class="built_in">GetName</span>() + <span class="string">&quot;and&quot;</span> + H.<span class="built_in">GetName</span>() + <span class="string">&quot;&#x27;s daughter&quot;</span>, Female, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 运算符重载函数 */</span></span><br><span class="line">People Husband::<span class="keyword">operator</span>+(Wife &amp;w)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">People</span>(<span class="keyword">this</span>-&gt;<span class="built_in">GetName</span>() + <span class="string">&quot;and&quot;</span> + w.<span class="built_in">GetName</span>() + <span class="string">&quot;&#x27;s son&quot;</span>, Male, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/* 小鲸鱼 */</span></span><br><span class="line">    <span class="function">People <span class="title">myself</span><span class="params">(<span class="string">&quot;小鲸鱼&quot;</span>, Female, <span class="number">18</span>)</span></span>;</span><br><span class="line">    <span class="comment">/* 小鲸鱼的妈妈 */</span></span><br><span class="line">    <span class="function">Wife <span class="title">mymother</span><span class="params">(<span class="string">&quot;Mom&quot;</span>, <span class="number">37</span>)</span></span>;</span><br><span class="line">    <span class="comment">/* 小鲸鱼的爸爸 */</span></span><br><span class="line">    <span class="function">Husband <span class="title">myfather</span><span class="params">(<span class="string">&quot;Dad&quot;</span>, <span class="number">39</span>, &amp;mymother)</span></span>;</span><br><span class="line">    mymother.<span class="built_in">SetHusband</span>(myfather);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 这里挺迷惑的，直接在声明时赋初值那么返回的就是运算符重载函数中声明的那个类</span></span><br><span class="line"><span class="comment">    * 而声明时不赋初值而是在下一行再赋值则会调用赋值运算符重载函数(并且这个隐藏函数会因为定义移动构造函数而被删除)，为什么赋值调用的不是复制构造函数呢?</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    People princess = mymother + myfather;</span><br><span class="line">    People prince = myfather + mymother;</span><br><span class="line">    <span class="comment">// prince = myfather + mymother;</span></span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; princess &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; prince &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 长大一岁啦~ */</span></span><br><span class="line">    cout &lt;&lt; myself &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;One year later …… &quot;</span> &lt;&lt; endl;</span><br><span class="line">    ++myself;</span><br><span class="line">    cout &lt;&lt; myself &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* I&#x27;m a Girl named MomandDad&#x27;s daughter, 0 years old.</span></span><br><span class="line"><span class="comment">* I&#x27;m a Man named DadandMom&#x27;s son, 0 years old.</span></span><br><span class="line"><span class="comment">* I&#x27;m a Girl named 小鲸鱼, 18 years old.</span></span><br><span class="line"><span class="comment">* One year later ……</span></span><br><span class="line"><span class="comment">* I&#x27;m a Girl named 小鲸鱼, 19 years old.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="虚函数">虚函数</h3>
<ul>
<li>虚函数是动态绑定的函数，即编译阶段不进行静态绑定，而是运行过程动态绑定</li>
<li>声明: <code>virtual 函数类型 函数名(形参表) &#123; &#125;</code></li>
<li>虚函数是实现多态性的基础</li>
<li>虚函数必须是非静态的成员函数，构造函数不能是虚函数，但析构函数可以是虚函数</li>
<li>派生类可以不显示声明virtual,
编译器根据函数原型自动判断并覆盖基类虚函数</li>
<li>派生类的虚函数会覆盖基类中所有同名函数的重载形式</li>
<li>虚析构函数:
允许其它函数通过基类指针调用对象的析构函数时就要将基类析构函数设为虚函数</li>
</ul>
<h4 id="虚表">虚表</h4>
<p>虚函数的动态绑定是通过虚表来实现的<br>
每个多态类都有一张虚表，虚表中存放了各个虚函数的入口地址，每个对象都有一个虚表指针指向虚表(构造函数中初始化)<br>
通过多态类调用虚函数时会通过虚指针找到虚表，进而找到虚函数入口地址进而正确的调用虚函数</p>
<h3 id="抽象类">抽象类</h3>
<ul>
<li>纯虚函数是在基类中声明的，但由于类信息不够具体无法实现的虚函数</li>
<li>纯虚函数声明:
<code>virtual 函数类型 函数名(参数表) = 0;</code>其含义是没有具体实现</li>
<li>带有纯虚函数的类称为抽象类，因为没有具体实现，所以抽象类无法实例化，只能作为基类</li>
</ul>
<h4 id="override和final">override和final</h4>
<p>override
是用于派生类的虚函数的声明，用途是指示编译器覆盖基类的虚函数，若没有成功覆盖则报错，避免因为疏漏导致的错误</p>
<p>final 是拒绝类被继承或函数被重新的声明</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="comment">/* A类无法继承，无法派生出新类 */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> <span class="keyword">final</span>&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* B的func成员函数继承后无法覆盖重写 */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>&#123;</span><br><span class="line">    <span class="type">int</span> j;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">func</span><span class="params">()</span> <span class="keyword">final</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="模板">模板</h2>
<h3 id="函数模板">函数模板</h3>
<p>创建通用功能的函数，支持多种不同形参</p>
<p>定义</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;模板参数表&gt;</span><br><span class="line">函数定义</span><br></pre></td></tr></table></figure>
<p>其中模板参数表为类型参数(class/typename 标识符)、常量参数(类型说明符
标识符)、模板参数(template<参数表>class 标识符)</参数表></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(T s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="类模板">类模板</h3>
<p>类模板定义</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;模板参数表&gt;</span><br><span class="line"><span class="keyword">class</span> 类名</span><br><span class="line">&#123;类成员声明&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 类外定义的成员函数 */</span></span><br><span class="line"><span class="keyword">template</span> &lt;模板参数表&gt;</span><br><span class="line">函数类型 类名&lt;模板参数标识符列表&gt;::函数名(参数表)&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>示例</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code language: C++ */</span></span><br><span class="line"><span class="comment">/* 类模板 */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="type">int</span> T, <span class="keyword">class</span> <span class="title class_">U</span>, <span class="keyword">typename</span> V&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">class_name</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Show</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> s = T;</span><br><span class="line">    U member1;</span><br><span class="line">    V member2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 类模板的成员函数 */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="type">int</span> T, <span class="keyword">class</span> <span class="title class_">U</span>, <span class="keyword">typename</span> V&gt;</span><br><span class="line"><span class="type">void</span> class_name&lt;T, U, V&gt;::<span class="built_in">Show</span>()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="keyword">this</span>-&gt;s &lt;&lt; ends &lt;&lt; <span class="keyword">this</span>-&gt;member1 &lt;&lt; ends &lt;&lt; <span class="keyword">this</span>-&gt;member2 &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    class_name&lt;<span class="number">1</span>, People, <span class="type">int</span>&gt; c;  <span class="comment">/* People类定义见前面示例 */</span></span><br><span class="line">    c.<span class="built_in">Show</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Output</span></span><br><span class="line"><span class="comment">* 1 I&#x27;m a Girl named Wu Ming, 18 years old. 8</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="异常处理">异常处理</h2>
<p>定义</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 抛出异常 */</span></span><br><span class="line"><span class="keyword">throw</span> 表达式;</span><br><span class="line"><span class="comment">/* 异常处理 */</span></span><br><span class="line"><span class="keyword">try</span>&#123;保护代码&#125;</span><br><span class="line"><span class="built_in">catch</span>(异常类型)&#123;异常处理&#125;</span><br><span class="line"><span class="built_in">catch</span>(异常类型)&#123;异常处理&#125;</span><br><span class="line"><span class="built_in">catch</span>(...)&#123;异常处理&#125;<span class="comment">/* 能捕获任何异常 */</span></span><br></pre></td></tr></table></figure>
<h3 id="函数的异常声明">函数的异常声明</h3>
<p>为了增强程序的可读性和可维护性，使程序员在使用一个函数时就能看出这个函数可能会拋出哪些异常，C++
允许在函数声明和定义时，加上它所能拋出的异常的列表</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span> <span class="title">throw</span> <span class="params">(<span class="type">int</span>, <span class="type">double</span>, A, B, C)</span></span>;</span><br></pre></td></tr></table></figure>
<p>据说C++的异常处理不是特别好，所以还是尽量避免错误吧</p>
<hr>
<h2 id="泛型">泛型</h2>
<ul>
<li>概念
<ul>
<li>comparable: 可比较的</li>
<li>assignbale: 可赋值的</li>
<li>sortable: comparable and assignbale</li>
</ul></li>
<li>泛型:
指编写不依赖于具体类型的程序，将算法从特点数据结构中抽象出来，基础是模板</li>
</ul>
<p>这东西挺复杂的还是另外开一篇文章(<a href="https://meteordream.github.io/Cpp/2021-05/03185826.html">点击查看</a>)写吧~</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>小鲸鱼
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://meteordream.github.io/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/2021-05/Cpp%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" title="C++学习笔记">https://meteordream.github.io/编程基础/2021-05/Cpp学习笔记.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <div>
        
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">--- ♥ end ♥ ---</div>
    
</div>
        
      </div>
        

  <div class="followme">
    <p>欢迎关注我呀~</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/images/wechat_channel.jpg">
            <span class="icon">
              <i class="fab fa-weixin"></i>
            </span>

            <span class="label">WeChat</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://github.com/MeteorDream">
            <span class="icon">
              <i class="fab fa-github"></i>
            </span>

            <span class="label">GitHub</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://leetcode-cn.com/u/meteordream/">
            <span class="icon">
              <i class="fab fa-envira"></i>
            </span>

            <span class="label">LeetCode</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Cpp/" rel="tag"><i class="fa fa-tag"></i> C++</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/%E9%9A%8F%E7%AC%94/2021-04/%E5%BF%83%E7%90%86%E5%AD%A6%E5%B0%8F%E5%8F%91%E7%8E%B0.html" rel="prev" title="心理学小发现">
      <i class="fa fa-chevron-left"></i> 心理学小发现
    </a></div>
      <div class="post-nav-item">
    <a href="/LeetCode/2021-05/66_%E5%8A%A0%E4%B8%80.html" rel="next" title="『LeetCode』66 加一">
      『LeetCode』66 加一 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          梦境概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AC%A2%E8%BF%8E%E8%BF%9B%E5%85%A5cpp%E7%9A%84%E4%B8%96%E7%95%8C"><span class="nav-number">1.1.</span> <span class="nav-text">欢迎进入Cpp的世界</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95"><span class="nav-number">2.</span> <span class="nav-text">目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-number">3.</span> <span class="nav-text">基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.1.</span> <span class="nav-text">基础数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B%E7%A7%8D%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.1.1.</span> <span class="nav-text">四种基础数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E9%87%8F"><span class="nav-number">3.1.2.</span> <span class="nav-text">常量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E7%AE%97"><span class="nav-number">3.2.</span> <span class="nav-text">运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">3.3.</span> <span class="nav-text">输入输出流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.4.</span> <span class="nav-text">逻辑语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.4.1.</span> <span class="nav-text">条件语句</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#if%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.4.1.1.</span> <span class="nav-text">if语句</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#switch%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.4.1.2.</span> <span class="nav-text">switch语句</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.4.2.</span> <span class="nav-text">循环语句</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#while%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.4.2.1.</span> <span class="nav-text">while语句</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#for%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.4.2.2.</span> <span class="nav-text">for语句</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.4.2.3.</span> <span class="nav-text">控制语句</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.5.</span> <span class="nav-text">自定义类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#typedef"><span class="nav-number">3.5.1.</span> <span class="nav-text">typedef</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.5.2.</span> <span class="nav-text">枚举类型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%8D%E9%99%90%E5%AE%9A%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.5.2.1.</span> <span class="nav-text">不限定作用域的枚举类型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%99%90%E5%AE%9A%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.5.2.2.</span> <span class="nav-text">限定作用域的枚举类型</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.5.3.</span> <span class="nav-text">自动类型</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">4.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="nav-number">4.1.</span> <span class="nav-text">函数定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="nav-number">4.2.</span> <span class="nav-text">参数传递</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%A6%E9%BB%98%E8%AE%A4%E5%80%BC%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-number">4.2.1.</span> <span class="nav-text">带默认值的参数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD"><span class="nav-number">4.3.</span> <span class="nav-text">函数重载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0"><span class="nav-number">4.4.</span> <span class="nav-text">内联函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1"><span class="nav-number">5.</span> <span class="nav-text">类与对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="nav-number">5.1.</span> <span class="nav-text">类与对象的定义</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1%E5%AE%9A%E4%B9%89%E7%A4%BA%E4%BE%8B"><span class="nav-number">5.1.1.</span> <span class="nav-text">类与对象定义示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="nav-number">5.2.</span> <span class="nav-text">构造函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%A4%BA%E4%BE%8B"><span class="nav-number">5.2.1.</span> <span class="nav-text">构造函数示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="nav-number">5.3.</span> <span class="nav-text">析构函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%84%E5%90%88"><span class="nav-number">5.4.</span> <span class="nav-text">类的组合</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E5%90%91%E5%BC%95%E7%94%A8%E5%A3%B0%E6%98%8E"><span class="nav-number">5.4.1.</span> <span class="nav-text">前向引用声明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98"><span class="nav-number">5.4.2.</span> <span class="nav-text">静态成员</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%8F%8B%E5%85%83"><span class="nav-number">5.4.3.</span> <span class="nav-text">类的友元</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%84%E5%90%88%E7%BB%BC%E5%90%88%E7%A4%BA%E4%BE%8B"><span class="nav-number">5.4.4.</span> <span class="nav-text">类的组合综合示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="nav-number">5.5.</span> <span class="nav-text">结构体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%81%94%E5%90%88%E4%BD%93"><span class="nav-number">5.6.</span> <span class="nav-text">联合体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB%E5%92%8C%E4%BF%9D%E6%8A%A4"><span class="nav-number">5.7.</span> <span class="nav-text">数据共享和保护</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">5.7.1.</span> <span class="nav-text">标识符作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%AD%98%E6%9C%9F"><span class="nav-number">5.7.2.</span> <span class="nav-text">对象的生存期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BF%9D%E6%8A%A4"><span class="nav-number">5.7.3.</span> <span class="nav-text">共享数据的保护</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%8C%87%E9%92%88%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">6.</span> <span class="nav-text">数组、指针、字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">6.1.</span> <span class="nav-text">数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E9%92%88"><span class="nav-number">6.2.</span> <span class="nav-text">指针</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D"><span class="nav-number">6.3.</span> <span class="nav-text">动态内存分配</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E5%92%8C%E6%B4%BE%E7%94%9F"><span class="nav-number">7.</span> <span class="nav-text">继承和派生</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BB%A7%E6%89%BF%E4%B8%8E%E6%B4%BE%E7%94%9F"><span class="nav-number">7.1.</span> <span class="nav-text">什么是继承与派生</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F"><span class="nav-number">7.2.</span> <span class="nav-text">继承方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%AC%E6%9C%89%E7%BB%A7%E6%89%BFpublic"><span class="nav-number">7.2.1.</span> <span class="nav-text">公有继承public</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A7%81%E6%9C%89%E7%BB%A7%E6%89%BFprivate"><span class="nav-number">7.2.2.</span> <span class="nav-text">私有继承private</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%9D%E6%8A%A4%E7%BB%A7%E6%89%BFprotected"><span class="nav-number">7.2.3.</span> <span class="nav-text">保护继承protected</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF%E7%A4%BA%E4%BE%8B"><span class="nav-number">7.2.4.</span> <span class="nav-text">类的继承示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-number">7.3.</span> <span class="nav-text">类型转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B4%BE%E7%94%9F%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%8E%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0"><span class="nav-number">7.4.</span> <span class="nav-text">派生类的构造函数与析构函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%88%90%E5%91%98%E7%9A%84%E8%AE%BF%E9%97%AE%E4%B8%8E%E6%9E%84%E6%88%90"><span class="nav-number">7.5.</span> <span class="nav-text">派生类成员的访问与构成</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%99%9A%E5%9F%BA%E7%B1%BB"><span class="nav-number">7.5.1.</span> <span class="nav-text">虚基类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF%E7%BB%BC%E5%90%88%E7%A4%BA%E4%BE%8B"><span class="nav-number">7.6.</span> <span class="nav-text">类的继承综合示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E6%80%81"><span class="nav-number">8.</span> <span class="nav-text">多态</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="nav-number">8.1.</span> <span class="nav-text">运算符重载</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E4%B8%BA%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="nav-number">8.1.1.</span> <span class="nav-text">运算符重载为成员函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E4%B8%BA%E9%9D%9E%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="nav-number">8.1.2.</span> <span class="nav-text">运算符重载为非成员函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E7%A4%BA%E4%BE%8B"><span class="nav-number">8.1.3.</span> <span class="nav-text">运算符重载示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%99%9A%E5%87%BD%E6%95%B0"><span class="nav-number">8.2.</span> <span class="nav-text">虚函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%99%9A%E8%A1%A8"><span class="nav-number">8.2.1.</span> <span class="nav-text">虚表</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="nav-number">8.3.</span> <span class="nav-text">抽象类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#override%E5%92%8Cfinal"><span class="nav-number">8.3.1.</span> <span class="nav-text">override和final</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF"><span class="nav-number">9.</span> <span class="nav-text">模板</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF"><span class="nav-number">9.1.</span> <span class="nav-text">函数模板</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E6%A8%A1%E6%9D%BF"><span class="nav-number">9.2.</span> <span class="nav-text">类模板</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="nav-number">10.</span> <span class="nav-text">异常处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A3%B0%E6%98%8E"><span class="nav-number">10.1.</span> <span class="nav-text">函数的异常声明</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B"><span class="nav-number">11.</span> <span class="nav-text">泛型</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="小鲸鱼"
      src="/images/shizuku.png">
  <p class="site-author-name" itemprop="name">小鲸鱼</p>
  <div class="site-description" itemprop="description">小鲸鱼只有七秒钟的记忆</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">233</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">94</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/MeteorDream" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;MeteorDream" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:hy1368068258@163.com" title="E-Mail → mailto:hy1368068258@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://meteordream.github.io/" title="感谢 → https:&#x2F;&#x2F;meteordream.github.io"><i class="fa fa-kiss-wink-heart fa-fw"></i>感谢</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://leetcode.cn/u/meteordream/" title="LeetCode → https:&#x2F;&#x2F;leetcode.cn&#x2F;u&#x2F;meteordream&#x2F;" rel="noopener" target="_blank"><i class="fab fa-envira fa-fw"></i>LeetCode</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2021-04 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小鲸鱼</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.3m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">20:16</span>
</div><script color="0,0,255" opacity="0.6" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js">
</script>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.bootcdn.net/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'n9rYOoqPd5IsOQpuSgyY7ci3-gzGzoHsz',
      appKey     : '0BuiiqBGewzAwktQnJ9vXQMB',
      placeholder: "想和小鲸鱼说些什么吗~ (评论区支持MarkDown语法哦~)",
      avatar     : 'mp',
      meta       : guest,
      pageSize   : '20' || 10,
      visitor    : false,
      lang       : 'zh-CN' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/assets/koharu.model.json"},"display":{"superSample":2,"width":200,"height":400,"position":"right","hOffset":30,"vOffset":-30},"mobile":{"show":true,"opacity":0.5,"scale":0.3},"react":{"opacity":0.7,"opacityOnHover":0.2},"log":false});</script></body>

  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/src/clicklove.js"></script>

</html>
